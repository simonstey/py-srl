PREFIX : <http://example.org/>

# Extract username from email
RULE { ?person :username ?user } WHERE {
    ?person :email ?email .
    BIND(STRBEFORE(?email, "@") AS ?user)
}

# Extract domain from email
RULE { ?person :emailDomain ?domain } WHERE {
    ?person :email ?email .
    BIND(STRAFTER(?email, "@") AS ?domain)
}
